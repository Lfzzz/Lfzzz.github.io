var OriginTitile=document.title,titleTime;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="w(ﾟДﾟ)w 不要走！再看看嘛！",clearTimeout(titleTime)):(document.title="♪(^∇^*)欢迎肥来！"+OriginTitile,titleTime=setTimeout((function(){document.title=OriginTitile}),2e3))}));const setPageName=()=>{if(""===GLOBAL_CONFIG_SITE.title.replace("伴舟先生大霖子",""))document.querySelector("#page-name").innerHTML="伴舟先生大霖子",document.querySelector("#childDivBox").setAttribute("style","display:block;"),document.querySelector("#childDivBox").innerHTML+='\n    <div id="myLoveBox">\n      <div id="myLoveTitle">\n        ----- 霖霖 💖 舟舟 -----\n      </div>\n      <div id="myLovePicBox">\n        <img class="llPic" src="https://files.catbox.moe/1ku5xv.png" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif" />\n        <img class="lovePic" src="https://files.catbox.moe/nfyb6f.png" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif" />\n        <img class="zzPic" src="https://files.catbox.moe/pxgka9.png" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif" />\n      </div>\n      <div id="myLoveDateTimeTitle">\n        <div class="myLoveDateIcon">\n        <span>年</span></div>\n        <div class="myLoveDateIcon">\n        <span>天</span></div>\n        <div class="myLoveDateIcon">\n        <span>时</span></div>\n        <div class="myLoveDateIcon">\n        <span>分</span></div>\n        <div class="myLoveDateIcon">\n        <span>秒</span></div>\n      </div>\n      <div id="myLoveDateTimeBox">\n        <div class="loveTBox"><div id="myLoveYearText">N</div></div>\n        <div class="loveTBox"><div id="myLoveDayText">N</div></div>\n        <div class="loveTBox"><div id="myLoveHText">N</div></div>\n        <div class="loveTBox"><div id="myLoveMText">N</div></div>\n        <div class="loveTBox"><div id="myLoveSText">N</div></div>\n      </div>\n    </div>\n  ';else{document.querySelector("#page-name").innerHTML=document.title.split(" | 伴舟先生大霖子")[0];let e=document.querySelector("#childDivBox");e&&e.setAttribute("style","display:none;")}},getLoveTime=()=>{let e=(new Date).getTime()-new Date("2016/10/26 00:00:00").getTime(),t=Math.floor(e/864e5),o=Math.floor(t/365);t-=365*o;let i=e%864e5,n=Math.floor(i/36e5),l=i%36e5,a=Math.floor(l/6e4),d=l%6e4,s=Math.round(d/1e3);document.querySelector("#myLoveYearText")&&(document.querySelector("#myLoveYearText").innerHTML=o,document.querySelector("#myLoveDayText").innerHTML=t,document.querySelector("#myLoveHText").innerHTML=n,document.querySelector("#myLoveMText").innerHTML=a,document.querySelector("#myLoveSText").innerHTML=s)},initDefaultThemeColor=()=>{var e=document.querySelector(":root"),t=document.querySelector("[data-theme='light']"),o=document.querySelector("[data-theme='dark']");e.style.setProperty("--heo-theme","#425aef"),e.style.setProperty("--heo-main-op-deep","#4259efdd"),t&&(t.style.setProperty("--heo-main-op-deep","#4259efdd"),t.style.setProperty("--heo-theme","#425aef")),o&&(o.style.setProperty("--heo-main-op-deep","#4259efdd"),o.style.setProperty("--heo-theme","#425aef"))},seyHi=()=>{let hour=(new Date).getHours(),h=parseInt(hour),el=document.querySelector("#helloBox");el&&(h>=7&&h<12?el.innerHTML="早上"+el.innerHTML:h>=12&&h<14?el.innerHTML="中午"+el.innerHTML:h>=14&&h<18?el.innerHTML="下午"+el.innerHTML:h>=19&&(el.innerHTML="晚上"+el.innerHTML)),scrollSetFlag(),getLoveTime(),setInterval((()=>{getLoveTime()}),1e3),initDefaultThemeColor();var path=document.getElementById("post-cover").getAttribute("data-lazy-src");if("http://localhost:4000/null"!==path){console.log(document.querySelector("#loading-box").getAttribute("class"));var httpRequest=new XMLHttpRequest;httpRequest.open("GET",path+"?imageAve",!0),httpRequest.send(),httpRequest.onreadystatechange=function(){if(4==httpRequest.readyState&&200==httpRequest.status){var json=httpRequest.responseText;console.log(json);var obj=eval("("+json+")"),value=obj.RGB;if(value="#"+value.slice(2),document.querySelector("#page-header.post-bg")){var root=document.querySelector(":root"),light=document.querySelector("[data-theme='light']"),dark=document.querySelector("[data-theme='dark']");root.style.setProperty("--heo-theme",value),root.style.setProperty("--heo-main-op-deep",value+"dd"),light&&(light.style.setProperty("--heo-main-op-deep",value+"dd"),light.style.setProperty("--heo-theme",value)),dark&&(dark.style.setProperty("--heo-main-op-deep",value+"dd"),dark.style.setProperty("--heo-theme",value))}else initDefaultThemeColor();document.styleSheets[0].addRule("#page-header:before","background: "+value+"!important")}}}else document.styleSheets[0].addRule("#page-header:before","background: none!important")},scrollSetFlag=()=>{if(document.documentElement.scrollTop<=0){let e=document.querySelector(".not-top-img");e&&(e.classList.add("nav-fixed"),e.classList.add("nav-visible"));let t=document.querySelector(".not-home-page");t&&(t.classList.add("nav-fixed"),t.classList.add("nav-visible"));let o=document.querySelector(".post-bg");o&&(o.classList.add("nav-fixed"),o.classList.add("nav-visible"))}};setPageName(),seyHi(),document.addEventListener("pjax:complete",(()=>{console.log("pjax刷新了"),setPageName(),seyHi()})),window.addEventListener("scroll",(e=>{scrollSetFlag()}));