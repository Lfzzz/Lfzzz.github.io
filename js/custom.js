function isQQ(e){return/^[1-9][0-9]{4,10}$/.test(e)||/^[1-9][0-9]{4,10}@qq.com$/i.test(e)}window.getQQNickError=()=>{document.querySelector(".nickloadingIcon").className+=" nickHidden",document.querySelector(".nickLoadingText").className+=" nickError",document.querySelector(".nickLoadingText").innerHTML="获取失败",setTimeout((()=>{document.querySelector(".el-input.el-input--small.el-input-group.el-input-group--prepend").removeChild(document.querySelector("#nickLoading"))}),1500)},window.getQQNickStart=()=>{var e=document.createElement("div");e.id="nickLoading";var t=document.createElement("div");t.id="nickLoadingTitle",t.innerHTML+='\n    <i class="iconfont icon-loading nickloadingIcon"></i>\n    <div class="nickLoadingText">昵称获取中...</div>\n  ',e.appendChild(t),document.querySelector(".el-input.el-input--small.el-input-group.el-input-group--prepend").appendChild(e)},window.getQQNickSuccess=()=>{document.querySelector(".nickloadingIcon").className+=" nickHidden",document.querySelector(".nickLoadingText").className+=" nickSuccess",document.querySelector(".nickLoadingText").innerHTML="获取成功",setTimeout((()=>{document.querySelector(".el-input.el-input--small.el-input-group.el-input-group--prepend").removeChild(document.querySelector("#nickLoading"))}),1500)};var OriginTitile=document.title,titleTime;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="w(ﾟДﾟ)w 不要走！再看看嘛！",clearTimeout(titleTime)):(document.title="♪(^∇^*)欢迎肥来！"+OriginTitile,titleTime=setTimeout((function(){document.title=OriginTitile}),2e3))}));const setPageName=()=>{if(""===GLOBAL_CONFIG_SITE.title.replace("伴舟先生大霖子",""))document.querySelector("#page-name").innerHTML="伴舟先生大霖子",document.querySelector("#childDivBox").setAttribute("style","display:block;"),document.querySelector("#childDivBox").innerHTML+='\n    <div id="myLoveBox">\n      <div id="myLoveTitle">\n        ----- 霖霖 💖 舟舟 -----\n      </div>\n      <div id="myLovePicBox">\n        <img class="llPic" src="https://files.catbox.moe/1ku5xv.png" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif" />\n        <img class="lovePic" src="https://files.catbox.moe/nfyb6f.png" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif" />\n        <img class="zzPic" src="https://files.catbox.moe/pxgka9.png" onerror="this.src=https://cdn.cbd.int/akilar-candyassets/image/loading.gif" />\n      </div>\n      <div id="myLoveDateTimeTitle">\n        <div class="myLoveDateIcon">\n        <span>年</span></div>\n        <div class="myLoveDateIcon">\n        <span>天</span></div>\n        <div class="myLoveDateIcon">\n        <span>时</span></div>\n        <div class="myLoveDateIcon">\n        <span>分</span></div>\n        <div class="myLoveDateIcon">\n        <span>秒</span></div>\n      </div>\n      <div id="myLoveDateTimeBox">\n        <div class="loveTBox"><div id="myLoveYearText">N</div></div>\n        <div class="loveTBox"><div id="myLoveDayText">N</div></div>\n        <div class="loveTBox"><div id="myLoveHText">N</div></div>\n        <div class="loveTBox"><div id="myLoveMText">N</div></div>\n        <div class="loveTBox"><div id="myLoveSText">N</div></div>\n      </div>\n    </div>\n  ';else{document.querySelector("#page-name").innerHTML=document.title.split(" | 伴舟先生大霖子")[0];let e=document.querySelector("#childDivBox");e&&e.setAttribute("style","display:none;")}},getLoveTime=()=>{let e=(new Date).getTime()-new Date("2016/10/26 00:00:00").getTime(),t=Math.floor(e/864e5),o=Math.floor(t/365);t-=365*o;let n=e%864e5,i=Math.floor(n/36e5),l=n%36e5,d=Math.floor(l/6e4),r=l%6e4,c=Math.round(r/1e3);document.querySelector("#myLoveYearText")&&(document.querySelector("#myLoveYearText").innerHTML=o,document.querySelector("#myLoveDayText").innerHTML=t,document.querySelector("#myLoveHText").innerHTML=i,document.querySelector("#myLoveMText").innerHTML=d,document.querySelector("#myLoveSText").innerHTML=c)},initDefaultThemeColor=()=>{var e=document.querySelector(":root"),t=document.querySelector("[data-theme='light']"),o=document.querySelector("[data-theme='dark']");e.style.setProperty("--heo-theme","#425aef"),e.style.setProperty("--heo-main-op-deep","#4259efdd"),t&&(t.style.setProperty("--heo-main-op-deep","#4259efdd"),t.style.setProperty("--heo-theme","#425aef")),o&&(o.style.setProperty("--heo-main-op-deep","#4259efdd"),o.style.setProperty("--heo-theme","#425aef"))},seyHi=()=>{var e=(new Date).getHours();let el=document.querySelector("#helloBox");el&&(el.innerHTML=0<=e&&e<=5?t="晚安,我是":5<e&&e<=10?t="早上好,我是":10<e&&e<=14?t="中午好,我是":14<e&&e<=18?t="下午好,我是":18<e&&e<=24&&(t="晚上好,我是")),scrollSetFlag(),getLoveTime(),setInterval((()=>{getLoveTime()}),1e3),initDefaultThemeColor();var path=document.getElementById("post-cover").getAttribute("data-lazy-src");if("http://localhost:4000/null"!==path&&"/false"!==path){console.log(document.querySelector("#loading-box").getAttribute("class"));var httpRequest=new XMLHttpRequest;httpRequest.open("GET",path+"?imageAve",!0),httpRequest.send(),httpRequest.onreadystatechange=function(){if(4==httpRequest.readyState&&200==httpRequest.status){var json=httpRequest.responseText;console.log(json);var obj=eval("("+json+")"),value=obj.RGB;if(value="#"+value.slice(2),document.querySelector("#page-header.post-bg")){var root=document.querySelector(":root"),light=document.querySelector("[data-theme='light']"),dark=document.querySelector("[data-theme='dark']");root.style.setProperty("--heo-theme",value),root.style.setProperty("--heo-main-op-deep",value+"dd"),light&&(light.style.setProperty("--heo-main-op-deep",value+"dd"),light.style.setProperty("--heo-theme",value)),dark&&(dark.style.setProperty("--heo-main-op-deep",value+"dd"),dark.style.setProperty("--heo-theme",value))}else initDefaultThemeColor();document.styleSheets[0].addRule("#page-header:before","background: "+value+"!important")}}}else document.styleSheets[0].addRule("#page-header:before","background: none!important");function owoBig(){let t=1,o="",n=document.createElement("div"),i=document.querySelector("body");n.id="owo-big",i.appendChild(n);let l=new MutationObserver((l=>{for(let d=0;d<l.length;d++){let r=l[d].addedNodes,c="";2==r.length&&"OwO-body"==r[1].className&&(c=r[1],document.body.clientWidth<=768&&c.addEventListener("contextmenu",(e=>e.preventDefault())),c.onmouseover=l=>{if(console.log(),t){if("IMG"!=l.target.tagName)return;e=l,t=0,o=setTimeout((()=>{let t=2*e.path[0].clientHeight,o=2*e.path[0].clientWidth,l=e.x-e.offsetX-(o-e.path[0].clientWidth)/2,d=e.y-e.offsetY;l+o>i.clientWidth&&(l-=l+o-i.clientWidth+10),l<0&&(l=10),n.style.cssText=`display:flex; height:${t}px; width:${o}px; left:${l}px; top:${d}px;`,n.innerHTML=`<img src="${e.target.src}">`}),300)}},c.onmouseout=()=>{n.style.display="none",t=1,clearTimeout(o)})}}));l.observe(document.getElementById("post-comment"),{subtree:!0,childList:!0})}function categoriesBarActive(){var e=window.location.pathname;if("/"==(e=decodeURIComponent(e)))document.querySelector("#category-bar")&&document.getElementById("首页").classList.add("select");else{if(/\/categories\/.*?\//.test(e)){var t=e.split("/");console.log(t[2]);var o=t[2];document.querySelector("#category-bar")&&document.getElementById(o).classList.add("select")}if(/\/tags\/.*?\//.test(e)){o=(t=e.split("/"))[2];console.log(o),document.querySelector(".tag-cloud-list")&&document.getElementById(o).classList.add("select")}/\/archives\/.*?\//.test(e)?document.querySelector("#ArchiveBoxAllBtn").style.display="block":document.querySelector("#ArchiveBoxAllBtn")&&(document.querySelector("#ArchiveBoxAllBtn").style.display="none");var n=/\/comments\//;console.log(e),n.test(e)&&(document.querySelector("#page").style.background="var(--card-bg)",document.querySelector("#page").style.padding="20px 40px");n=/\/link\//;console.log(e),n.test(e)&&(document.querySelector("#page").style.background="var(--card-bg)",document.querySelector("#page").style.padding="20px 30px",document.querySelector("#page").style.border="var(--style-border)")}}function topCategoriesBarScroll(){if(document.getElementById("category-bar-items")){let e=document.getElementById("category-bar-items");e.addEventListener("mousewheel",(function(t){let o=-t.wheelDelta/2;e.scrollLeft+=o,t.preventDefault()}),!1)}}document.getElementById("post-comment")&&owoBig(),categoriesBarActive(),topCategoriesBarScroll()},scrollSetFlag=()=>{if(document.documentElement.scrollTop<=0){let e=document.querySelector(".not-top-img");e&&(e.classList.add("nav-fixed"),e.classList.add("nav-visible"));let t=document.querySelector(".not-home-page");t&&(t.classList.add("nav-fixed"),t.classList.add("nav-visible"));let o=document.querySelector(".post-bg");o&&(o.classList.add("nav-fixed"),o.classList.add("nav-visible"))}};function share(){let e=window.location.origin+window.location.pathname;new ClipboardJS(".share",{text:function(){return"标题："+document.title+"\n链接："+e}}),btf.snackbarShow("本页链接已复制到剪切板，快去分享吧~")}setPageName(),seyHi(),document.addEventListener("pjax:complete",(()=>{console.log("pjax刷新了"),setPageName(),seyHi()})),window.addEventListener("scroll",(e=>{scrollSetFlag()})),window.onkeydown=function(e){123===e.keyCode&&btf.snackbarShow("开发者模式已打开，请遵循GPL协议",!1)},$(document).unbind("keydown").bind("keydown",(function(e){if((e.ctrlKey||e.metaKey)&&67==e.keyCode&&""!=selectTextNow)return rmf.copySelect(selectTextNow),!1}));